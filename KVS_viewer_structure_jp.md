# 5.1 基本構造 #

KVSでは、ビューワアプリケーションを作成する際に、GLUTまたはQtを利用します。これらを使ってOSに依存しない統一的なAPIで描画ウィンドウの表示やイベント処理などを行いますが、両ライブラリの間では、APIに違いがあります。KVSでは、名前空間を変更するだけで同様に利用可能な基本クラスを提供しています。その基本クラスがアプリケーションクラスとスクリーンクラスです。GLUT向けには`kvs::glut::Application`と`kvs::glut::ScreenBase`、Qt向けには`kvs::qt::Application`と`kvs::qt::ScreenBase`を準備しています。

ここでは、主にGLUT向けクラスを説明しますが、Qt向けクラスは名前空間を変更するだけで、GLUT向けクラスと同様にして利用可能であるため説明は省略します。

## 5.1.1 kvs::glut::Applicationクラス ##

アプリケーションクラスは、プログラムのメインループを実行し、描画スクリーンの管理を行うことができます。また、このクラスをプログラム中で１つだけ定義することができます。以下では、`kvs::glut::Application`クラスの主なメソッドについて説明します。

## 5.1.2 kvs::glut::ScreenBaseクラス ##

スクリーンクラスは、描画スクリーンの作成やサイズ変更、イベント処理の設定を行うことができます。ユーザはこのクラスを継承して、独自のスクリーンクラスを定義することで、目的とする処理を実装することができます。以下では、`kvs::glut::ScreenBase`クラスの主なメソッドについて説明します。

## 5.1.3 サンプルプログラム ##

`kvs::glut::Application`および`kvs::glut::ScreenBase`クラスを使ったサンプルコードを以下に示します。